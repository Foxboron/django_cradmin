{% comment %}
    Includes the cradmin menu. You can make your view not render the menu by
    setting the ``cradmin_hide_menu`` context variable to ``True``.
{% endcomment %}
{% load i18n %}

{% if not cradmin_hide_menu %}
    <nav id="cradmin_menu" ng-controller="CradminMenuController">
        {% block pre-menu %}{% endblock pre-menu %}

        <div class="cradmin_menumobileheader">
            <button type="button" class="btn btn-default cradmin_menutoggle"
                    ng-click="toggleNavigation()">
                <span class="sr-only">{% trans "Toggle navigation" %}</span>
                <span class="fa fa-bars"></span>
            </button>
        </div>
        <ul class="cradmin_menucontent"
                ng-class="{cradmin_menucontent_display: displayMenu}">
            {% block menucontent %}
                {% for menuitem in request.cradmin_instance.get_menu %}
                    {{ menuitem.render|safe }}
                {% endfor %}
            {% endblock menucontent %}
        </ul>

        {% block post-menu %}{% endblock post-menu %}
    </nav>
{% endif %}
