{% load i18n %}
{% load thumbnail %}

<div class="django_cradmin_imagewidget django_cradmin_filewidget {% if clearable %}django_cradmin_filewidget_clearable{% endif %}"
        django-cradmin-image-preview>
    {% if image_path %}
        {% thumbnail image_path preview_size format=preview_format as thumb %}
            <img src="{{ thumb.url }}" width="{{ thumb.width }}" height="{{ thumb.height }}"
                    django-cradmin-image-preview-img>
        {% endthumbnail %}
    {% else %}
        {# Used for the preview - hidden before we have a preview #}
        <img django-cradmin-image-preview-img>
    {% endif %}
    <div class="django_cradmin_filewidget_field_and_overlay_wrapper">
        {{ input_html|safe }}
        <a class="btn btn-default django_cradmin_filewidget_fieldoverlay" href="#">
            <span class="fa fa-folder-open-o"></span>
            {% if image_path %}
                {% trans "Replace image" %}
            {% else %}
                {% trans "Upload image" %}
            {% endif %}
        </a>
    </div>
    {% if clearable %}
        <label class="django_cradmin_filewidget_clear">
            <input type="checkbox" name="{{ clear_checkbox_name }}">
            {% trans "Remove image" %}
        </label>
    {% endif %}
</div>
