/*
Buttons

In most cases you should not use the button class for links. Use either `<button>` or `<input type="submit" />`
when using buttons. <strong>Never</strong> use `<span>`, `<div>` or elements without a semantic meaning as buttons.

Example: {type: isolated} The default button
    <button type="button" class="button">Button</button>
    <button type="button" class="button  button--fill">Button</button>

Example: {type: isolated} For primary actions, use this only to separate from other actions.
    <button type="button" class="button  button--primary">Button</button>
    <button type="button" class="button  button--primary-fill">Button</button>

Example: {type: isolated} For secondary actions, don't overuse.
    <button type="button" class="button  button--secondary">Button</button>
    <button type="button" class="button  button--secondary-fill">Button</button>

Example: {type: isolated} For actions that need's to stand out on red or dark blue background.
    <button type="button" class="button  button--light">Button</button>
    <button type="button" class="button  button--light-fill">Button</button>

Example: {type: isolated} This is some modifiers you can add (PS: Can be combined)
    <button type="button" class="button  button--block">
        Make it 100% width of whatever container
    </button>
    <button type="button" class="button  button--compact">Compact button</button>
    <br>
    <button type="button" class="button  button--wider">Wider button</button>
    <br>
    <button type="button" class="button  button--spaced">Spaced button</button>
    <br>
    <button type="button" class="button" disabled>Disabled button</button>

Styleguide 3.2
*/


/*
Use this if you want to create something that
looks and behaves like a button.

With this you would get the same styles as if you
used the ``button`` class, with no color variants.

So if I want to create a ``myfancybutton``, I would
do something like this:

```
.myfancybutton {
    @include button-basic-styles();
    // Extra styles for myfancybutton
}
```

This would give me ``myfancybutton`` and ``myfancybutton myfancybutton--fill``
that works exactly like ``button`` and ``button button--fill``.
Very useful when styling external components where we can not select
the CSS classes ourselves.
*/
@mixin button-basic-styles() {
    @include spaced-text;
    @include font(base, bold);
    @include font-size(small);
    text-align: center;

    position: relative;
    display: block;
    width: 100%;
    padding: $spacing--small; // TODO: What to do?!
    border-radius: 0;

    color: $color-text;
    white-space: normal;

    border: $border-width solid color(neutral);
    background-color: transparent;
    margin-bottom: $unit;

    @include min-width(md) {
        display: inline-block;
        white-space: nowrap;
        width: auto;
    }

    &[disabled] {
        pointer-events: none;
        opacity: 0.4;
    }

    &__icon {
        position: relative;
        vertical-align: middle;
        top: -2px;
        margin-right: $unit;

        &--non-hover {
            display: inline-block;
        }

        &--hover {
            display: none;
        }

        &--first {
            margin-left: -($unit);
        }
    }

    &:hover,
    &:focus,
    &:active {
        color: $color-light;
        border-color: color(neutral);
        background-color: color(neutral);

        .button__icon--non-hover {
            display: none;
        }

        .button__icon--hover {
            display: inline-block;
        }
    }

    &:focus {
        z-index: 2;
    }

    &--fill {
        color: $color-light;
        border-color: color(neutral);
        background-color: color(neutral);

        &:hover,
        &:focus,
        &:active {
            color: $color-text;
            border-color: color(neutral);
            background-color: transparent;
        }
    }
}


@mixin button-colormodifier($b-name, $b-main, $b-text, $b-hover, $b-text-hover: false) {
    &--#{$b-name} {
        color: $b-text;
        border-color: $b-main;
        background-color: transparent;

        &:hover,
        &:focus,
        &:active {
            border-color: $b-hover;
            background-color: $b-hover;

            @if ($b-text-hover) {
                color: $b-text-hover;
            } @else {
                color: color-contrast($b-hover);
            }
        }
    }

    &--#{$b-name}-fill {
        border-color: $b-hover;
        background-color: $b-hover;

        @if ($b-text-hover) {
            color: $b-text-hover;
        } @else {
            color: color-contrast($b-hover);
        }

        &:hover,
        &:focus,
        &:active {
            color: $b-text;
            border-color: $b-main;
            background-color: transparent;
        }
    }

    &--hidden-in-print {
        @media print {
            display: none;
        }
    }
}


@mixin button--wider() {
    min-width: $unit * 30;
}

@mixin button--spaced() {
    @include min-width(md) {
        margin-left: $spacing--small;
        margin-right: $spacing--small;
    }
}

@mixin button--compact() {
    @include font-size(xsmall);
    padding: $unit $spacing--small;
}


.button {
    @include button-basic-styles();

    @include min-width(md) {
        padding: $spacing--small #{$indention - $border-width};
    }

    @include button-colormodifier(
        'primary',
        color(primary),
        color(primary),
        color(primary, dark)
    );

    @include button-colormodifier(
        'secondary',
        color(secondary, dark),
        color(secondary, dark),
        color(secondary, dark)
    );

    @include button-colormodifier(
        'light',
        $color-light,
        $color-light,
        $color-light,
        color(primary)
    );

    &--wider {
        @include button--wider();
    }

    &--spaced {
        @include button--spaced();
    }

    &--block {
        display: block;
        width: 100%;
    }

    &--compact {
        @include button--compact();
    }
}
