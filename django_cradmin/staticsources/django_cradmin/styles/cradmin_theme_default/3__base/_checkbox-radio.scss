/* Checkbox and radio

The markup for checkboxes and radio are almost simular.

### They both have these modifiers:
- `inline` - Removes margin underneath so it flows better with text
- `block` - Make it 100% width
- `light` - Make it light, only use on darker backgrounds
- `spaceless` - Remove spaces to the right and underneath

Example: {type: isolated} Checkbox default
    <label class="checkbox">
        <input type="checkbox" />
        <span class="checkbox__control-indicator"></span>
        Yes
    </label>
    <label class="checkbox">
        <input type="checkbox" />
        <span class="checkbox__control-indicator"></span>
        No
    </label>

Example: {type: isolated} Checkbox light
    <label class="checkbox  checkbox--light">
        <input type="checkbox" />
        <span class="checkbox__control-indicator"></span>
        Yes
    </label>
    <label class="checkbox  checkbox--light">
        <input type="checkbox" />
        <span class="checkbox__control-indicator"></span>
        No
    </label>

Example: {type: isolated} Checkbox block
    <label class="checkbox  checkbox--block">
        <input type="checkbox" />
        <span class="checkbox__control-indicator"></span>
        Yes
    </label>
    <label class="checkbox  checkbox--block">
        <input type="checkbox" />
        <span class="checkbox__control-indicator"></span>
        No
    </label>

Example: {type: isolated} Checkbox inline
    <p>
        Look, I'm mixed with
        <label class="checkbox  checkbox--inline">
            <input type="checkbox" />
            <span class="checkbox__control-indicator"></span>
            Yes
        </label>
        <label class="checkbox  checkbox--inline">
            <input type="checkbox" />
            <span class="checkbox__control-indicator"></span>
            No
        </label>
        text
    </p>

Example: {type: isolated} Radio default
    <label class="radio">
        <input type="radio" name="styleguide" />
        <span class="radio__control-indicator"></span>
        Yes
    </label>
    <label class="radio">
        <input type="radio" name="styleguide" />
        <span class="radio__control-indicator"></span>
        No
    </label>

Example: {type: isolated} Checkbox light
    <label class="radio  radio--light">
        <input type="radio" name="styleguide" />
        <span class="radio__control-indicator"></span>
        Yes
    </label>
    <label class="radio  radio--light">
        <input type="radio" name="styleguide" />
        <span class="radio__control-indicator"></span>
        No
    </label>

Example: {type: isolated} Checkbox block
    <label class="radio  radio--block">
        <input type="radio" name="styleguide" />
        <span class="radio__control-indicator"></span>
        Yes
    </label>
    <label class="radio  radio--block">
        <input type="radio" name="styleguide" />
        <span class="radio__control-indicator"></span>
        No
    </label>

Example: {type: isolated} Checkbox inline
    <p>
        Look, I'm mixed with
        <label class="radio  radio--inline">
            <input type="radio" name="styleguide" />
            <span class="radio__control-indicator"></span>
            Yes
        </label>
        <label class="radio  radio--inline">
            <input type="radio" name="styleguide" />
            <span class="radio__control-indicator"></span>
            No
        </label>
        text
    </p>

Styleguide 3.9
*/
.radio,
.checkbox {
    @extend %user-select-none; // This makes it respond faster for some reason

    position: relative;
    display: inline-block;
    padding-left: $indention;
    margin-bottom: $vertical-rythm;
    margin-right: $spacing;
    cursor: pointer;

    &:last-child {
        margin-bottom: 0;
    }

    input[type='radio'],
    input[type='checkbox'] {
        position: absolute;
        opacity: 0;
        z-index: -1; // Put the input behind the label so it doesn't overlay text

        // Checked state
        &:checked ~ .radio__control-indicator,
        &:checked ~ .checkbox__control-indicator {
            &:before {
                transform: scale(1);
                opacity: 1;
            }
        }

        &:checked ~ .checkbox__label,
        &:checked ~ .radio__label {
            // @extend strong;
        }

        &:focus ~ .checkbox__control-indicator,
        &:focus ~ .radio__control-indicator {
            border-color: color(primary, dark);
        }
    }

    &__control-indicator {
        position: absolute;
        display: block;
        user-select: none;
        top: 0.25em;
        left: 0;
        width: $unit * 4;
        height: $unit * 4;

        border-radius: 0;
        background-color: $color-light;
        border: $border-width solid color(neutral);


        &:before {
            content: '';

            position: absolute;
            top: 50%;
            left: 50%;

            opacity: 0;
            transform: scale(0);
            transition: all .1s $swift-out;
        }
    }

    &--inline {
        margin-bottom: 0;
    }

    &--spaceless {
        margin-right: 0;
        margin-bottom: 0;
    }

    &--light {
        .radio__control-indicator,
        .checkbox__control-indicator {
            border: 0;
        }

        &:hover {
            .radio__control-indicator,
            .checkbox__control-indicator {
                background-color: tint(color(secondary, dark), 80%);
            }
        }


        input[type='radio']:focus ~ .radio__control-indicator,
        input[type='checkbox']:focus ~ .checkbox__control-indicator {
            box-shadow: 0 0 0 $border-width rgba($color-dark, 0.4);
        }
    }

    &--block {
        display: block;
    }
}

.checkbox {
    padding-left: $indention;

    &__control-indicator {
        top: 0.1em;
        width: $unit * 5;
        height: $unit * 5;
        line-height: 1;

        border: $border-width solid color(neutral, xlight);
        background-color: color(neutral, xxlight);

        &:before {
            @extend %icon-check;
            margin-top: -6px;
            margin-left: -8px;
        }
    }

    &:hover {
        .checkbox__control-indicator {
            border-color: color(primary);
        }
    }

    &--light {
        .checkbox__control-indicator {
            background-color: $color-light;

            &:before {
                @extend %icon-check--secondary;
            }
        }
    }
}

.radio {
    &:hover {
        .radio__control-indicator {
            border-color: color(neutral);
        }
    }

    &__control-indicator {
        border-radius: 50%;

        &:before {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            margin-left: -4px;
            margin-top: -4px;
            background-color: color(secondary, dark);
        }
    }
}
