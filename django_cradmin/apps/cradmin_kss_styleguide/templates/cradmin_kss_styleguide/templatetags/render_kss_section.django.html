{% load cradmin_kss_styleguide_tags %}
{% load i18n %}

{% if section|kss_section_level == 1 %}
    <div id="kssref-{{ section.reference }}" class="kss-section  kss-section--depth-{{ section|kss_section_level }}">
{% else %}
    <section id="kssref-{{ section.reference }}" class="kss-section  kss-section--depth-{{ section|kss_section_level }}">
{% endif %}

{% block title %}
    <h2 class="kss-title  kss-title--level-{{ section|kss_section_level }}">
        <a class="kss-title__permalink" href="#kssref-{{ section.reference }}">
            {% block title-content %}
                <span class="kss-title__ref">
                    {{ section.reference }}
                </span>
                {{ section.title }}
            {% endblock title-content %}
        </a>
    </h2>
{% endblock title %}

{% block modifiers %}
    {% if section.modifiers %}
        <ul class="kss-parameters">
            {% for modifier in section.modifiers %}
                <li class="kss-parameters__item">
                    <code class="kss-parameters__name">{{ modifier.name }}</code>
                    <div class="kss-parameters__description">{{ modifier.description_html|safe }}</div>
                </li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock modifiers %}

{% block description %}
    {% if section.description %}
        <div class="kss-description">
            {{ section.description_html|safe }}
        </div>
    {% endif %}
{% endblock description %}

{% block usage %}
    {% if section.has_markups %}
        <div class="kss--usage">
            {% block usage-title %}
                <h3>
                    {% trans "Usage" context "cradmin_kss_styleguide" %}
                </h3>
            {% endblock usage-title %}
            {% for markup in section.markups %}
                {% block markup %}
                    {% block markup-title %}
                        {% if markup.title %}
                            <h4>
                                {{ markup.title }}
                            </h4>
                        {% endif %}
                    {% endblock markup-title %}
                    {% block markup-markup %}
                        <div class="kss-markup kss-markup--{{ markup.get_syntax }}">
                            {{ markup.html|safe }}
                        </div>
                    {% endblock markup-markup %}
                {% endblock markup %}
            {% endfor %}
        </div>
    {% endif %}
{% endblock usage %}


{% if section|kss_section_level == 1 %}
    </div>
{% else %}
    </section>
{% endif %}
